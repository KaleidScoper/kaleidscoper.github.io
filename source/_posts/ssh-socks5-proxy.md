---
title: SSH Socks5代理
date: 2023-09-06 22:15:18
categories: [技术, 开发]
tags: [Linux]
---
长期使用ssh调试自己的云服务器的同学，可能玩过基于TUI（Terminal User Interface）的网页浏览器。当你ssh连接设在内地以外的服务器，并利用这些纯文本浏览器上网时，一定想过，既然我能使用这些服务器本身浏览网页，是否能有一种简单的方法，可以利用这些服务器来转发本地的图形化浏览器的数据——毕竟w3m或者lynx这些浏览器只能浏览文本内容，并不能观看图片、视频，功能也很简陋。

这样的简单方法确实存在：那就是ssh的Socks5功能。

这是一个解决了<b>"先有鸡还是先有蛋"</b>问题的服务：比如，因突发事件导致你失去了你的旧电脑，现在你需要翻墙工具，但该工具在墙外，而你没有翻墙工具，这样你就陷入了死循环，如果无外部帮助，你将永远无法解决该问题。

当然，如要长期高效的服务，应使用对应的专用软件。如没法安装软件，或者出于临时需求，那么ssh就是你的兜底方案。因为这种方法被封禁的可能性很大，我不建议使用你现有的、尤其是搭建有正在使用的功能的VPS来操作，而应当选购一款新的机器来操作，来降低可能的损失。

第一步是安装一款浏览器插件：Proxy SwitchyOmega，它是SwitchySharp的二代版本。同类型的任何其他浏览器插件都可以，以自己的需求来办即可。随后，在“新建Proxy”中，填入一个协议为Socks5、Host为127.0.0.1、端口为8080的配置，并在开关里启用该配置。

第二步是使用下面的命令登录你的外网VPS：

```shell
ssh -D 127.0.0.1:8080 用户名@主机名
```

一切正常就可以使用了，配置很低的VPS就可以有足够丝滑的体验，完全可以临时地代替同类型服务。出于Linux终端数限制的原因，我不建议你使它保持长期连接状态，防止影响下次使用。
