---
title: 基于 WordPress + VPS 的建站教程
date: 2025-03-22 10:45:51
tags: [Linux, Apache, 数据库, PHP, HTML, CSS]
categories: [技术, 开发, Web开发]
---

<b>前言：</b> 阅读本教程不需要任何前置知识。我此前走了很多弯路，不希望后来者还把时间浪费在它们身上。按本教程操作，你将得到一个每年维护成本 ￥300 以下，基于 LAMP（Ubuntu22、Apache、MySQL、PHP）的 WordPress 博客<sup>[1]</sup>，感受 Web 的精神以及它带来的自由。

注意：你并不需要现在就准备 300 元钱，完成本教程支出可能不超过 100 元。

[1]:☝️🤓欸，那我为啥需要个WordPress博客呢，BB空间不香吗。理由有很多，一是如今海内外的社交媒体，个个是食贴兽，你写了那点玩意鬼知道哪天被吞了。二是如果你打算学点Web开发，直接从零开始搭个网站不现实，选择博客托管平台呢又锻炼不到，而WordPress能先帮你建个站出来，还不剥夺你的自定义空间。

## 一、注册域名

一串典型的网址如下：（我的旧博客上的一个页面）

```
https://testgames.me/mcserver
```

在 `https://` 后面有一个 `testgames.me`，这就是域名（Domain），它<b>通常</b>指向某个网站。我们现在需要为你的网站注册一个域名。

首先百度搜索`域名注册`，选一家服务商（如腾讯云、阿里云）来注册域名。请注意在国内的平台注册域名需要实名认证、备案，如果不想备案，你可以选择海外注册商（如 NameSilo）或者提供免备案服务的国内小服务商。本文不再单独讲述域名的实名、备案。

选好服务商后就可以构思域名了。注册不同后缀的域名价格不一，一般来说，像是`.top`或`.me`这种域名后缀较为便宜，而`.net`或`.com`这种域名贵一些。不建议使用`.xyz`这个域名后缀，由于被广泛应用于非法网站，现在人们（尤其是墙）对`.xyz`的网站带有偏见。我个人建议随便挑一个便宜的域名后缀来减小开支。

## 二、租用主机

你的域名需要解析到一个服务器的IP地址。目前你的域名没有指向任何一台挂载着Web服务的设备，这意味着如果有人在浏览器地址栏键入你的域名，什么也不会发生。

为了能发生点什么，现在应该租用一台云主机（VPS）用来搭建网站，然后让域名指向这台主机的IP地址——通常是一串形如下面这个的数字：

```
163.197.247.117
```

在国内，较大的云主机服务商是阿里云、腾讯云、华为云等，大厂的服务安全性高、有客服用来压力、对新用户有优惠，但是需要实名认证、备案，流程非常缓慢，而且一个Whois查询能直接把你开了，又不方便又不隐私。

☝️🤓欸，那我直接去网上找各种“xx云”的广告推广，或者淘宝里的“免备”不就行了吗？很可惜，也不行。鉴于本人血与泪的教训，我极不建议你用小服务商的云主机用来建设博客：

- 小服务商经常超售、超开，使你选购的配置无法发挥正常性能；
- 售后较差，有跑路风险；
- 小服务商的用户鱼龙混杂，曾经使用此设备的人可能进行了非法活动，导致 IPV4 地址被注册商拉入黑名单，一旦你将珍贵的域名解析至这个不干净的 IP ，遭到ServerHold，那就写小作文跪求解封去吧<sup>[2]</sup>。

[2]:本人两次遭到ServerHold，零次解封成功。

所以我们选择外网的云主机服务商，比如 LightNode 。挑选商品时，务必确保它具有独立 ipv4 地址。我建议选择一款2核2g的月付云主机即可，这是比较低的硬件配置。其中，2核指两个处理器核心，2g指2GB的内存（RAM），这是主要的两个性能指标。

2核2g + 1个IPv4地址 + 约几十G系统盘 + Ubuntu 22 系统镜像，这个套装售价大约是每月几十元。记得选择东亚地区的机器以确保连接速度。

租到了心仪的主机，得到了其公网ipv4地址之后，就可以去域名注册商那里将ip填入了。至此DNS服务就帮你把域名解析到这台主机的IP地址了。

## 三、如何使用云主机？

### 3.1 云主机的基本操作

拥有云主机后，请先进入服务商提供的控制台，复制保存一下此主机的IP地址、root登录密码，再检查一下硬件配置是否如付款时所声称的那样。

接下来查看服务器安全组。
1. TCP 入方向：注意检查以下几个端口（port）是否放开：22（ssh端口）、80（http端口）、443（https端口）、3306（MySQL端口）。如果没有，可以手动为端口添加自定义TCP规则：入方向允许所有ip（即0.0.0.0/0）。
2. TCP 出方向：一般已经默认开放全部端口。

现在可以使用云主机了，为了方便，我们打开一款终端模拟器软件来进行后续操作，像是Windows Terminal、CMD，或者图形化的终端软件[Tabby](https://tabby.sh/)等等都可以。其他系统我不太熟悉，如果你使用的是Windows系列操作系统，按下Win+R组合键并输入cmd后敲击回车，就能打开CMD窗口。

一般用SSH命令连接服务器。使用方法是在刚才你打开的窗口里输入下列内容后回车<sup>[3]</sup>：

[3]:极个别的设备没有预装ssh，需要手动安装。而前面列出的Tabby等功能比较强大的终端模拟器，已经提供了图形化的ssh连接方式，不再需要每次手动输入命令，在此不做演示。

```shell
ssh 用户名@服务器地址
```

用户名一般是root。如果你的设备已经安装了ssh工具，现在就可以输入你的密码来连接。你输入的密码不会显示出来，但实际已经输入进去了。输入结束后敲击回车即可登入。

<b>注意！</b> 在后续操作过程中，你有可能操作失败后，直接重装系统回到这步试图重新操作。如果你这么做了，你可能发现ssh命令拒绝连接你的云主机，或者提示你遭到了中间人攻击。解决方法是打开这个路径：`C:\Users\你的用户名\.ssh`，删除文件夹内所有文件后即可恢复正常。

以下是几个日常高频使用的指令：

``` shell
ls #列出当前目录的所有内容
ll #也是列出当前目录的所有内容，但是包含详细信息，相当于ls -l

cd /var/www #前往www文件夹
cd .. #前往上一层文件夹，对于www文件夹，var就是上级文件夹
cd . #没有任何作用，因为.表示本层文件夹，而..表示上级文件夹

nano readme.txt #编辑readme.txt文件，如果没有则创建一个并编辑。请自行查询nano编辑器的使用方法
mkdir file #在此处新建file文件夹

rm readme.txt #删除readme.txt
mv readme.txt new.txt #重命名前者为后面的名字
mv readme.txt /root #剪切此文件到/root文件夹
cp readme.txt /root #复制此文件到/root文件夹

pwd #显示你当前所处的路径
whoami #显示当前用户，如果到目前为止一切正常，此命令应该输出root
ping baidu.com #测试你是否能访问baidu.com

exit #断开连接

#ctrl键+c键 此组合键会中止你当前执行的命令
#ctrl键+z键 挂起当前指令
#在终端中，选中文本点击右键才是复制，未选中文本时点击右键则粘贴
```

### 3.2 云主机的上传下载



