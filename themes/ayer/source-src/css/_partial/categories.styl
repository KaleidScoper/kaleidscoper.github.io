// Categories - Clean Glassmorphism Design (Waifu-style)
.categories-box
  max-width: 100%
  margin: 2rem 0
  padding: 1rem 0
  overflow: visible
  
  // 主分类列表
  > .category-list
    display: grid
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr))
    gap: 1.5rem
    list-style: none
    padding: 0
    margin: 0
    
    > .category-list-item
      // CSS 变量定义 - 亮色模式（海洋蓝色主题）
      --card-bg: rgba(255, 255, 255, 0.6)
      --card-border: rgba(255, 255, 255, 0.8)
      --shadow-color: rgba(0, 0, 0, 0.1)
      --accent-color: #3d85c6
      --accent-color-alt: #0681d0
      --text-primary: #333
      --text-secondary: #555
      --badge-bg: linear-gradient(135deg, #3d85c6 0%, #0681d0 100%)
      --badge-text: #ffffff
      
      position: relative
      overflow: hidden
      border-radius: 16px
      padding: 1.5rem
      background-color: var(--card-bg)
      border: 1px solid var(--card-border)
      box-shadow: 0 8px 32px 0 var(--shadow-color)
      backdrop-filter: blur(10px)
      -webkit-backdrop-filter: blur(10px)
      transition: all 0.3s ease
      display: grid
      grid-template-columns: 1fr auto
      gap: 0.5rem
      align-items: start
      will-change: transform
      
      &:hover
        transform: translateY(-5px) scale(1.02)
        box-shadow: 0 12px 40px 0 var(--shadow-color)
        will-change: auto
      
      // 顶级分类链接
      > .category-list-link
        display: flex
        align-items: center
        font-size: 1.3rem
        font-weight: 600
        color: var(--text-primary)
        text-decoration: none
        transition: color 0.3s ease
        
        &:before
          content: "\efde"
          font-family: remixicon
          font-size: 1.5rem
          margin-right: 0.75rem
          color: var(--accent-color)
          transition: transform 0.3s ease
        
        &:hover
          color: var(--accent-color)
          
          &:before
            transform: scale(1.1) rotate(5deg)
      
      // 分类计数徽章
      > .category-list-count
        display: inline-flex
        align-items: center
        justify-content: center
        min-width: 2rem
        height: 2rem
        padding: 0 0.6rem
        background: var(--badge-bg)
        color: var(--badge-text)
        border-radius: 20px
        font-size: 0.85rem
        font-weight: 600
        box-shadow: 0 2px 8px rgba(61, 133, 198, 0.3)
        transition: all 0.3s ease
        position: relative
        overflow: hidden
        
        &:before
          content: ''
          position: absolute
          top: 0
          left: -100%
          width: 100%
          height: 100%
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent)
          transition: left 0.5s ease
        
        &:after
          content: none
        
        &:hover
          transform: translateY(-2px) scale(1.05)
          box-shadow: 0 4px 12px rgba(61, 133, 198, 0.5)
          
          &:before
            left: 100%
      
      // 子分类容器
      > .category-list-child
        grid-column: 1 / -1
        list-style: none
        padding: 0
        margin: 1rem 0 0 0
        
        > .category-list-item
          --child-bg: rgba(255, 255, 255, 0.4)
          --child-border: rgba(255, 255, 255, 0.6)
          --child-text: var(--text-secondary)
          --child-shadow: rgba(0, 0, 0, 0.08)
          --child-badge-bg: linear-gradient(135deg, #5ca9e6 0%, #3d85c6 100%)
          --child-badge-text: #ffffff
          
          position: relative
          background-color: var(--child-bg)
          backdrop-filter: blur(10px)
          -webkit-backdrop-filter: blur(10px)
          border-radius: 12px
          border: 1px solid var(--child-border)
          padding: 1rem
          margin: 0.75rem 0
          box-shadow: 0 4px 16px 0 var(--child-shadow)
          transition: all 0.3s ease
          display: grid
          grid-template-columns: 1fr auto
          gap: 0.5rem
          align-items: start
          will-change: transform
          
          &:hover
            transform: translateY(-3px) scale(1.01)
            box-shadow: 0 6px 20px 0 var(--child-shadow)
            will-change: auto
          
          // 二级分类链接
          > .category-list-link
            display: flex
            align-items: center
            font-size: 1.3rem
            font-weight: 500
            color: var(--child-text)
            text-decoration: none
            transition: color 0.3s ease
            
            &:before
              content: "\ea6e"
              font-family: remixicon
              font-size: 1.2rem
              margin-right: 0.6rem
              color: #3d85c6
              transition: transform 0.3s ease
            
            &:hover
              color: var(--accent-color)
              
              &:before
                transform: scale(1.1) rotate(5deg)
          
          // 二级分类计数
          > .category-list-count
            display: inline-flex
            align-items: center
            justify-content: center
            min-width: 2.2rem
            height: 2.2rem
            padding: 0 0.6rem
            background: var(--child-badge-bg)
            color: var(--child-badge-text)
            border-radius: 16px
            font-size: 1rem
            font-weight: 700
            box-shadow: 0 2px 6px rgba(92, 169, 230, 0.3)
            transition: all 0.3s ease
            position: relative
            overflow: hidden
            
            &:before
              content: ''
              position: absolute
              top: 0
              left: -100%
              width: 100%
              height: 100%
              background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent)
              transition: left 0.5s ease
            
            &:after
              content: none
            
            &:hover
              transform: translateY(-2px) scale(1.05)
              box-shadow: 0 3px 8px rgba(92, 169, 230, 0.5)
              
              &:before
                left: 100%
          
          // 三级分类容器
          > .category-list-child
            grid-column: 1 / -1
            list-style: none
            padding: 0
            margin: 0.75rem 0 0 0
            
            > .category-list-item
              // 采用 waifu 百科按钮样式（海洋蓝主题）
              --grandchild-bg: rgba(255, 255, 255, 0.2)
              --grandchild-border: rgba(255, 255, 255, 0.3)
              --grandchild-text: #333
              --grandchild-shadow: rgba(0, 0, 0, 0.1)
              
              background: var(--grandchild-bg)
              backdrop-filter: blur(10px)
              -webkit-backdrop-filter: blur(10px)
              border-radius: 16px
              border: 1px solid var(--grandchild-border)
              padding: 6px 14px
              margin: 0.6rem 0
              box-shadow: 0 4px 15px var(--grandchild-shadow)
              transition: all 0.3s ease
              display: flex
              align-items: center
              gap: 0.4rem
              width: 100%
              position: relative
              overflow: hidden
              cursor: pointer
              
              // 光泽扫过效果
              &:before
                content: ''
                position: absolute
                top: 0
                left: -100%
                width: 100%
                height: 100%
                background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent)
                transition: left 0.5s ease
                pointer-events: none
              
              &:hover
                background: rgba(255, 255, 255, 0.3)
                transform: translateY(-2px)
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15)
                
                &:before
                  left: 100%
              
              // 三级分类链接 - 按钮式样式
              > .category-list-link
                display: inline-flex
                align-items: center
                font-size: 1.3rem
                font-weight: 500
                color: var(--grandchild-text)
                text-decoration: none
                transition: color 0.3s ease
                flex: 1
                
                &:before
                  content: "\eb6f"
                  font-family: remixicon
                  font-size: 1rem
                  margin-right: 0.5rem
                  color: #3d85c6
                  transition: transform 0.3s ease
                
                &:hover
                  color: #0681d0
              
              // 三级分类计数 - 融入按钮内
              > .category-list-count
                display: inline-flex
                align-items: center
                justify-content: center
                min-width: 1.6rem
                height: 1.6rem
                padding: 0 0.4rem
                background: rgba(61, 133, 198, 0.25)
                color: #2563a0
                border: 1px solid rgba(61, 133, 198, 0.4)
                border-radius: 10px
                font-size: 0.9rem
                font-weight: 700
                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1)
                transition: all 0.3s ease
                flex-shrink: 0

// 响应式设计
@media (max-width: 768px)
  .categories-box
    > .category-list
      grid-template-columns: 1fr
      gap: 1rem
      
      > .category-list-item
        padding: 1.2rem
        
        > .category-list-link
          font-size: 1.1rem
        
        > .category-list-child
          > .category-list-item
            padding: 0.8rem
            
            > .category-list-link
              font-size: 1rem

// 深色模式适配（使用 body.darkmode）
body.darkmode
  .categories-box
    > .category-list
      > .category-list-item
        // 重新定义暗色模式下的 CSS 变量（海洋蓝色主题）
        --card-bg: rgba(40, 40, 40, 0.6)
        --card-border: rgba(255, 255, 255, 0.1)
        --shadow-color: rgba(0, 0, 0, 0.4)
        --accent-color: #5ca9e6
        --accent-color-alt: #3d85c6
        --text-primary: #f0f0f0
        --text-secondary: #aaa
        --badge-bg: linear-gradient(135deg, #5ca9e6 0%, #3d85c6 100%)
        --badge-text: #ffffff
        
        > .category-list-child
          > .category-list-item
            --child-bg: rgba(45, 55, 72, 0.5)
            --child-border: rgba(255, 255, 255, 0.08)
            --child-text: #cbd5e0
            --child-shadow: rgba(0, 0, 0, 0.3)
            --child-badge-bg: linear-gradient(135deg, #7abce8 0%, #5ca9e6 100%)
            --child-badge-text: #ffffff
            
            > .category-list-child
              > .category-list-item
                // 暗色模式按钮样式
                --grandchild-bg: rgba(255, 255, 255, 0.1)
                --grandchild-border: rgba(255, 255, 255, 0.2)
                --grandchild-text: #f0f0f0
                --grandchild-shadow: rgba(0, 0, 0, 0.4)
                
                &:hover
                  background: rgba(255, 255, 255, 0.2)
                
                > .category-list-link
                  &:before
                    color: #5ca9e6
                  
                  &:hover
                    color: #7abce8
                
                > .category-list-count
                  background: rgba(92, 169, 230, 0.3)
                  color: #b3daef
                  border-color: rgba(92, 169, 230, 0.5)

// 标签和归档页面的计数样式保持一致
.tag-list-count:before, .archive-list-count:before
  content: "("
.tag-list-count:after, .archive-list-count:after
  content: ")"
 
  
